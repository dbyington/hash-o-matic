language: go

go:
  - 1.9.2

install:
  - go get ./...
  - go get github.com/mattn/goveralls

script:
  - PATH="$HOME/gopath/bin:$PATH"
  - GOPATH="${HOME}/go"
  - touch ${HOME}/coverage.out
  - go test -covermode=count -coverprofile=${HOME}/coverage.out && ${GOPATH}/bin/goveralls -coverprofile=${HOME}/coverage.out -service=travis-ci -repotoken $COVERALLS_TOKEN
